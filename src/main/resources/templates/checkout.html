<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Checkout</title>
</head>
<body>
<h2>Checkout</h2>

<div>
    <h3>Saved addresses</h3>
    <form th:action="@{/proceed}" th:object="${newAddress}" method="post">
        <div th:if="${addresses != null and #lists.size(addresses) > 0}">
            <div th:each="addr : ${addresses}">
                <input type="radio" name="existingAddressId" th:value="${addr.id}" />
                <strong th:text="${addr.name}"></strong> - <span th:text="${addr.line1}"></span>,
                <span th:text="${addr.city}"></span> - <span th:text="${addr.postalCode}"></span>
                <br/>
            </div>
            <p>Or add new address below:</p>
        </div>

        <div>
            <label>Name</label>
            <input type="text" th:field="*{name}" required />
        </div>
        <div>
            <label>Phone</label>
            <input type="text" th:field="*{phone}" required />
        </div>
        <div>
            <label>Line 1</label>
            <input type="text" th:field="*{line1}" required />
        </div>
        <div>
            <label>Line 2</label>
            <input type="text" th:field="*{line2}" />
        </div>
        <div>
            <label>City</label>
            <input type="text" th:field="*{city}" required />
        </div>
        <div>
            <label>State</label>
            <input type="text" th:field="*{state}" />
        </div>
        <div>
            <label>Postal Code</label>
            <input type="text" th:field="*{postalCode}" required />
        </div>
        <div>
            <label>Country</label>
            <input type="text" th:field="*{country}" value="India" />
        </div>

        <div>
            <button type="submit">Proceed to Payment (â‚¹<span th:text="${tp}">0.00</span>)</button>
        </div>
    </form>
</div>

</body>
</html>
